{"version":3,"file":"js/586.19acfc8a.js","mappings":"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","sources":["webpack://client/./src/views/CommunitiesList.vue","webpack://client/./src/components/CommunitiesList.vue","webpack://client/./src/components/CommunitySingleItem.vue","webpack://client/./src/components/JoinCommunityButton.vue","webpack://client/./src/components/JoinCommunityButton.vue?6686","webpack://client/./src/components/CommunitySingleItem.vue?00fb","webpack://client/./src/components/CommunitiesList.vue?52bb","webpack://client/./src/views/CommunitiesList.vue?96c9","webpack://client/./src/components/utility.js"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"flex justify-center gap-2\">\r\n      <communities-list category=\"random\"></communities-list>\r\n      <communities-list class=\"w-1/3\" category=\"all\"></communities-list>\r\n      <div class=\"flex flex-col gap-4\">\r\n        <communities-list category=\"random\"></communities-list>\r\n        <communities-list category=\"gaming\"></communities-list>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommunitiesList from '../components/CommunitiesList.vue';\r\nexport default {\r\n  name: 'communitiesListView',\r\n  components: {\r\n    CommunitiesList,\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div>\r\n    <div class=\"p-2 bg-neutral-300 w-full text-center text-xs md:text-base\">{{ title }}</div>\r\n    <ol\r\n      class=\"bg-neutral-50 dark:bg-neutral-600 list-inside rounded shadow-md dark:text-white\"\r\n    >\r\n      <community-single-item\r\n        v-for=\"community in communities\"\r\n        :key=\"community.id\"\r\n        :community=\"community\"\r\n      ></community-single-item>\r\n    </ol>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommunitySingleItem from './CommunitySingleItem.vue';\r\nexport default {\r\n  components: { CommunitySingleItem },\r\n  props: {\r\n    category: { type: String, default: 'all' },\r\n  },\r\n  data() {\r\n    return {\r\n      communities: [],\r\n      categoryThis: '',\r\n    };\r\n  },\r\n  async created() {\r\n    if (this.category == 'all') {\r\n      this.communities = await fetch('http://localhost:3000/graphql', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          query: `\r\n          query LIST_COMMUNITIES {\r\n              communities {\r\n                  id\r\n                  name\r\n                  description\r\n                  avatarImage\r\n              }\r\n          }`,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => res.data.communities);\r\n      return;\r\n    }\r\n\r\n    let communitiesByCategory = await fetch('http://localhost:3000/graphql', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        query: `\r\n        query LIST_CATEGORIES_WITH_COMMUNITIES($categoryName: String) {\r\n            categories(categoryName: $categoryName) {\r\n                id\r\n                name\r\n                communities {\r\n                  id\r\n                  name\r\n                  description\r\n                  avatarImage\r\n                }\r\n            }\r\n        }`,\r\n        variables: {\r\n          categoryName: this.category == 'random' ? null : this.category,\r\n        },\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => res.data.categories);\r\n    communitiesByCategory =\r\n      communitiesByCategory[\r\n        parseInt(Math.random() * communitiesByCategory.length - 1)\r\n      ];\r\n    this.categoryThis = communitiesByCategory.name;\r\n    this.communities = communitiesByCategory.communities;\r\n  },\r\n  computed: {\r\n    title() {\r\n      if (this.categoryThis == '') {\r\n        return `Top communities`;\r\n      }\r\n      return `Top ${this.categoryThis} communities`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <li :data-community-id=\"community.id\" class=\"md:flex justify-between p-3 text-center\">\r\n    <router-link\r\n      class=\"md:flex gap-2 md:text-base text-sm font-light hover:font-extralight hover:text-blue-400\"\r\n      :to=\"{ name: 'communityDetailsView', params: { id: community.id } }\"\r\n    >\r\n      <img class=\"w-7 h-7 mx-auto\" :src=\"avatarImage\" alt=\"communityImage\" />\r\n      {{ community.name }}\r\n      \r\n    </router-link>\r\n    <join-community-button\r\n        :community=\"community\"\r\n        class=\"hover:bg-blue-600 rounded-full w-full md:w-auto text-white font-semibold text-sm bg-blue-500 px-3 py-1 transition-all shadow-md\"\r\n      ></join-community-button>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nimport JoinCommunityButton from './JoinCommunityButton.vue';\r\nimport { communityAvatarImage } from './utility';\r\nexport default {\r\n  props: { community: Object },\r\n\r\n  components: { JoinCommunityButton },\r\n  computed: {\r\n    avatarImage() {\r\n      return communityAvatarImage(this.community.avatarImage);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <button v-if=\"isAuthenticated\" type=\"submit\" @click.prevent=\"joinCommunity($event)\" class=\"\">Join</button>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue';\r\n\r\nexport default {\r\n  props: {\r\n    community: Object,\r\n  },\r\n  setup() {\r\n    const isAuthenticated = inject('authenticated');\r\n    return { isAuthenticated };\r\n  },\r\n  methods: {\r\n    async joinCommunity(event) {\r\n      await fetch('http://localhost:3000/graphql', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          query: `\r\n          mutation JOIN_COMMUNITY($communityId: String!, $userId: String!) {\r\n            joinCommunity(communityId: $communityId, userId: $userId) {\r\n              id\r\n              name\r\n            }\r\n          }\r\n          `,\r\n          variables: {\r\n            communityId: this.community.id,\r\n            userId: JSON.parse(sessionStorage.getItem('user')).id,\r\n          },\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => res.data.joinCommunity);\r\n        event.target.classList.add('bg-green-500');\r\n        event.target.classList.remove('hover:bg-blue-600');\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./JoinCommunityButton.vue?vue&type=template&id=f387d28a\"\nimport script from \"./JoinCommunityButton.vue?vue&type=script&lang=js\"\nexport * from \"./JoinCommunityButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\nvd\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CommunitySingleItem.vue?vue&type=template&id=2f4d8b7a\"\nimport script from \"./CommunitySingleItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitySingleItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\nvd\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CommunitiesList.vue?vue&type=template&id=6d441a9a\"\nimport script from \"./CommunitiesList.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitiesList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\nvd\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CommunitiesList.vue?vue&type=template&id=7c41b360\"\nimport script from \"./CommunitiesList.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitiesList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\nvd\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const label = (property) => {\r\n  let temp = property\r\n    .split('')\r\n    .reduce((a, b) => (b == b.toUpperCase() ? `${a} ${b}` : a + b));\r\n  return temp[0].toUpperCase() + temp.slice(1);\r\n};\r\n\r\nexport const mapToSelectItems = (list, text, value) => {\r\n  return (list = list.map((el) => {\r\n    return { text: el[text], value: el[value] };\r\n  }));\r\n};\r\n\r\n\r\nexport const transformDate = (date) => {\r\n  let time = Math.abs(new Date(date) - new Date()) / 1000;\r\n  let what = 'days';\r\n  if (time < 60) {\r\n    what = 'seconds';\r\n  } else if (time < 3600) {\r\n    time /= 60;\r\n    what = 'minutes';\r\n  } else if (time < 216000) {\r\n    time /= 3600;\r\n    what = 'hours';\r\n  }\r\n  return `${time.toFixed(0)} ${what} ago`;\r\n};\r\n\r\nexport const communityAvatarImage = (src) => {\r\n  return `http://localhost:3000/${src}`;\r\n}\r\n"],"names":["class","_hoisted_2","render","_ctx","_cache","$props","$setup","_component_communities_list","_openBlock","_createElementBlock","_createElementVNode","_createVNode","category","$data","$options","_component_community_single_item","_toDisplayString","_Fragment","_renderList","community","_createBlock","key","id","_component_router_link","to","name","params","default","_withCtx","src","alt","_createTextVNode","_","_component_join_community_button","type","onClick","$event","props","Object","setup","isAuthenticated","inject","methods","async","event","fetch","method","headers","Accept","body","JSON","stringify","query","variables","communityId","this","userId","parse","sessionStorage","getItem","then","res","json","data","joinCommunity","target","classList","add","remove","__exports__","components","JoinCommunityButton","computed","avatarImage","communityAvatarImage","CommunitySingleItem","String","communities","categoryThis","communitiesByCategory","categoryName","categories","parseInt","Math","random","length","title","CommunitiesList","label","property","temp","split","reduce","a","b","toUpperCase","slice","mapToSelectItems","list","text","value","map","el","transformDate","date","time","abs","Date","what","toFixed"],"sourceRoot":""}