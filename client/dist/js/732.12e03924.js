(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[732],{2052:function(t,r,e){"use strict";e.d(r,{Z:function(){return h}});var n=e(6252),o=e(3577),s=e(9963);const u={class:"flex flex-col gap-2"},i={class:"font-bold"},a=["type","name"];function c(t,r,e,c,l,p){return(0,n.wg)(),(0,n.iD)("label",u,[(0,n._)("span",i,(0,o.zw)(p.label),1),(0,n.wy)((0,n._)("input",{type:e.type,class:"shadow-md dark:bg-neutral-600 dark:text-white form-input mt-1 block w-full rounded border",name:c.obj[e.property],"onUpdate:modelValue":r[0]||(r[0]=t=>c.obj[e.property]=t)},null,8,a),[[s.YZ,c.obj[e.property]]])])}var l=e(8225),p={props:{which:String,property:String,type:{type:String,default:"text"}},setup(t){const r=(0,n.f3)(`${t.which}Data`);return{obj:r}},computed:{label(){return(0,l.PS)(this.property)}}},f=e(3744);const d=(0,f.Z)(p,[["render",c]]);var h=d},8732:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return k}});var n=e(6252);const o={class:"flex justify-center"},s={class:"w-full md:w-3/4 bg-neutral-50 dark:bg-neutral-700 dark:text-white rounded shadow-md p-10"},u={class:"border border-solid border-gray-300 p-4 shadow-md"},i=(0,n._)("legend",{class:"text-2xl font-extralight"},"Login",-1),a={class:"p-6 flex flex-col gap-5"},c={class:"flex justify-center"};function l(t,r,e,l,p,f){const d=(0,n.up)("input-component"),h=(0,n.up)("login-user-button");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[(0,n._)("form",null,[(0,n._)("fieldset",u,[i,(0,n._)("div",a,[(0,n.Wm)(d,{which:"user",property:"username"}),(0,n.Wm)(d,{which:"user",property:"password",type:"password"}),(0,n._)("div",c,[(0,n.Wm)(h,{class:"border-2 border-slate-400 rounded-full p-2 px-5 hover:text-white hover:bg-blue-400 hover:border-blue-400 shadow:md hover:shadow-xl"})])])])])])])}var p=e(2052),f=e(2262),d=e(9963);function h(t,r,e,o,s,u){return(0,n.wg)(),(0,n.iD)("button",{type:"submit",onClick:r[0]||(r[0]=(0,d.iM)((t=>u.login()),["prevent"]))},"Login")}e(1703);var y=e(8225),b={setup(){let t=(0,n.f3)("userData"),r=(0,n.f3)("authenticated");return{obj:t,isAuthenticated:r}},methods:{async login(){try{let t=await fetch("http://localhost:3000/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n          query LOGIN($userCredentials: UserCredentialsInput!) {\n            loginUser(userCredentialsInput: $userCredentials) {\n              id\n              createdAt\n              username\n              firstName\n              lastName\n              email\n              gender\n              options {\n                inboxMessages\n                upvotesOnComments\n                upvotesOnPosts\n                newFollowers\n                newPosts\n              }\n            }\n          }",variables:{userCredentials:{...this.obj}}})}).then((t=>t.json())).then((t=>{if(null==t.data)throw Error("Authentication failed: "+JSON.stringify(t.errors));return t.data.loginUser})).catch((t=>{throw t}));this.isAuthenticated=!0,sessionStorage.setItem("user",JSON.stringify(t)),this.$router.push("/"),(0,y.B5)()}catch(t){alert("Invalid username or password"),console.log(t)}}}},m=e(3744);const g=(0,m.Z)(b,[["render",h]]);var v=g,w={name:"loginView",setup(){let t=(0,f.iH)({username:"",password:""});return(0,n.JJ)("userData",t),{obj:t}},components:{InputComponent:p.Z,LoginUserButton:v}};const x=(0,m.Z)(w,[["render",l]]);var k=x},2914:function(t,r,e){var n=e(7293),o=e(9114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},2104:function(t,r,e){var n=e(4374),o=Function.prototype,s=o.apply,u=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?u.bind(s):function(){return u.apply(s,arguments)})},8340:function(t,r,e){var n=e(111),o=e(8880);t.exports=function(t,r){n(r)&&"cause"in r&&o(t,"cause",r.cause)}},9191:function(t,r,e){"use strict";var n=e(5005),o=e(2597),s=e(8880),u=e(7976),i=e(7674),a=e(9920),c=e(9587),l=e(6277),p=e(8340),f=e(7741),d=e(2914),h=e(1913);t.exports=function(t,r,e,y){var b=y?2:1,m=t.split("."),g=m[m.length-1],v=n.apply(null,m);if(v){var w=v.prototype;if(!h&&o(w,"cause")&&delete w.cause,!e)return v;var x=n("Error"),k=r((function(t,r){var e=l(y?r:t,void 0),n=y?new v(t):new v;return void 0!==e&&s(n,"message",e),d&&s(n,"stack",f(n.stack,2)),this&&u(w,this)&&c(n,this,k),arguments.length>b&&p(n,arguments[b]),n}));if(k.prototype=w,"Error"!==g&&(i?i(k,x):a(k,x,{name:!0})),a(k,v),!h)try{w.name!==g&&s(w,"name",g),w.constructor=k}catch(E){}return k}}},1703:function(t,r,e){var n=e(2109),o=e(7854),s=e(2104),u=e(9191),i="WebAssembly",a=o[i],c=7!==Error("e",{cause:7}).cause,l=function(t,r){var e={};e[t]=u(t,r,c),n({global:!0,forced:c},e)},p=function(t,r){if(a&&a[t]){var e={};e[t]=u(i+"."+t,r,c),n({target:i,stat:!0,forced:c},e)}};l("Error",(function(t){return function(r){return s(t,this,arguments)}})),l("EvalError",(function(t){return function(r){return s(t,this,arguments)}})),l("RangeError",(function(t){return function(r){return s(t,this,arguments)}})),l("ReferenceError",(function(t){return function(r){return s(t,this,arguments)}})),l("SyntaxError",(function(t){return function(r){return s(t,this,arguments)}})),l("TypeError",(function(t){return function(r){return s(t,this,arguments)}})),l("URIError",(function(t){return function(r){return s(t,this,arguments)}})),p("CompileError",(function(t){return function(r){return s(t,this,arguments)}})),p("LinkError",(function(t){return function(r){return s(t,this,arguments)}})),p("RuntimeError",(function(t){return function(r){return s(t,this,arguments)}}))}}]);
//# sourceMappingURL=732.12e03924.js.map