{"version":3,"file":"js/92-legacy.8aec5b67.js","mappings":"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","sources":["webpack://client/./src/views/CommunitiesList.vue","webpack://client/./src/components/CommunitiesList.vue","webpack://client/./src/components/CommunitySingleItem.vue","webpack://client/./src/components/JoinCommunityButton.vue","webpack://client/./src/components/JoinCommunityButton.vue?6686","webpack://client/./src/components/CommunitySingleItem.vue?00fb","webpack://client/./src/components/CommunitiesList.vue?52bb","webpack://client/./src/views/CommunitiesList.vue?96c9"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"flex justify-center gap-2\">\r\n      <communities-list category=\"random\"></communities-list>\r\n      <communities-list class=\"w-1/3\" category=\"all\"></communities-list>\r\n      <div class=\"flex flex-col gap-4\">\r\n        <communities-list category=\"random\"></communities-list>\r\n        <communities-list category=\"gaming\"></communities-list>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommunitiesList from '../components/CommunitiesList.vue';\r\nexport default {\r\n  name: 'communitiesListView',\r\n  components: {\r\n    CommunitiesList,\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div>\r\n    <div class=\"p-2 bg-neutral-300 w-full text-center text-xs md:text-base\">{{ title }}</div>\r\n    <ol\r\n      class=\"bg-neutral-50 dark:bg-neutral-600 list-inside rounded shadow-md dark:text-white\"\r\n    >\r\n      <community-single-item\r\n        v-for=\"community in communities\"\r\n        :key=\"community.id\"\r\n        :community=\"community\"\r\n      ></community-single-item>\r\n    </ol>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommunitySingleItem from './CommunitySingleItem.vue';\r\nexport default {\r\n  components: { CommunitySingleItem },\r\n  props: {\r\n    category: { type: String, default: 'all' },\r\n  },\r\n  data() {\r\n    return {\r\n      communities: [],\r\n      categoryThis: '',\r\n    };\r\n  },\r\n  async created() {\r\n    if (this.category == 'all') {\r\n      this.communities = await fetch('http://localhost:3000/graphql', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          query: `\r\n          query LIST_COMMUNITIES {\r\n              communities {\r\n                  id\r\n                  name\r\n                  description\r\n                  avatarImage\r\n              }\r\n          }`,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => res.data.communities);\r\n      return;\r\n    }\r\n\r\n    let communitiesByCategory = await fetch('http://localhost:3000/graphql', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        query: `\r\n        query LIST_CATEGORIES_WITH_COMMUNITIES($categoryName: String) {\r\n            categories(categoryName: $categoryName) {\r\n                id\r\n                name\r\n                communities {\r\n                  id\r\n                  name\r\n                  description\r\n                  avatarImage\r\n                }\r\n            }\r\n        }`,\r\n        variables: {\r\n          categoryName: this.category == 'random' ? null : this.category,\r\n        },\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => res.data.categories);\r\n    communitiesByCategory =\r\n      communitiesByCategory[\r\n        parseInt(Math.random() * communitiesByCategory.length - 1)\r\n      ];\r\n    this.categoryThis = communitiesByCategory.name;\r\n    this.communities = communitiesByCategory.communities;\r\n  },\r\n  computed: {\r\n    title() {\r\n      if (this.categoryThis == '') {\r\n        return `Top communities`;\r\n      }\r\n      return `Top ${this.categoryThis} communities`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <li :data-community-id=\"community.id\" class=\"md:flex justify-between p-3 text-center\">\r\n    <router-link\r\n      class=\"md:flex gap-2 md:text-base text-sm font-light hover:font-extralight hover:text-blue-400\"\r\n      :to=\"{ name: 'communityDetailsView', params: { id: community.id } }\"\r\n    >\r\n      <img class=\"w-7 h-7 mx-auto\" :src=\"avatarImage\" alt=\"communityImage\" />\r\n      {{ community.name }}\r\n      \r\n    </router-link>\r\n    <join-community-button\r\n        :community=\"community\"\r\n        class=\"hover:bg-blue-600 rounded-full w-full md:w-auto text-white font-semibold text-sm bg-blue-500 px-3 py-1 transition-all shadow-md\"\r\n      ></join-community-button>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nimport JoinCommunityButton from './JoinCommunityButton.vue';\r\nimport { communityAvatarImage } from './utility';\r\nexport default {\r\n  props: { community: Object },\r\n\r\n  components: { JoinCommunityButton },\r\n  computed: {\r\n    avatarImage() {\r\n      return communityAvatarImage(this.community.avatarImage);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <button v-if=\"isAuthenticated\" type=\"submit\" @click.prevent=\"joinCommunity($event)\" class=\"\">Join</button>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue';\r\n\r\nexport default {\r\n  props: {\r\n    community: Object,\r\n  },\r\n  setup() {\r\n    const isAuthenticated = inject('authenticated');\r\n    return { isAuthenticated };\r\n  },\r\n  methods: {\r\n    async joinCommunity(event) {\r\n      await fetch('http://localhost:3000/graphql', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          query: `\r\n          mutation JOIN_COMMUNITY($communityId: String!, $userId: String!) {\r\n            joinCommunity(communityId: $communityId, userId: $userId) {\r\n              id\r\n              name\r\n            }\r\n          }\r\n          `,\r\n          variables: {\r\n            communityId: this.community.id,\r\n            userId: JSON.parse(sessionStorage.getItem('user')).id,\r\n          },\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => res.data.joinCommunity);\r\n        event.target.classList.add('bg-green-500');\r\n        event.target.classList.remove('hover:bg-blue-600');\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./JoinCommunityButton.vue?vue&type=template&id=f387d28a\"\nimport script from \"./JoinCommunityButton.vue?vue&type=script&lang=js\"\nexport * from \"./JoinCommunityButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CommunitySingleItem.vue?vue&type=template&id=2f4d8b7a\"\nimport script from \"./CommunitySingleItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitySingleItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CommunitiesList.vue?vue&type=template&id=6d441a9a\"\nimport script from \"./CommunitiesList.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitiesList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CommunitiesList.vue?vue&type=template&id=7c41b360\"\nimport script from \"./CommunitiesList.vue?vue&type=script&lang=js\"\nexport * from \"./CommunitiesList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_hoisted_2","render","_ctx","_cache","$props","$setup","_component_communities_list","_openBlock","_createElementBlock","_createElementVNode","_createVNode","category","$data","$options","_component_community_single_item","_toDisplayString","_Fragment","_renderList","community","_createBlock","key","id","_component_router_link","to","name","params","default","_withCtx","src","alt","_createTextVNode","_","_component_join_community_button","type","onClick","$event","props","Object","setup","isAuthenticated","inject","methods","joinCommunity","event","fetch","method","headers","Accept","body","JSON","stringify","query","variables","communityId","userId","parse","sessionStorage","getItem","then","res","json","data","target","classList","add","remove","__exports__","components","JoinCommunityButton","computed","avatarImage","communityAvatarImage","this","CommunitySingleItem","String","communities","categoryThis","created","categoryName","categories","communitiesByCategory","parseInt","Math","random","length","title","CommunitiesList"],"sourceRoot":""}