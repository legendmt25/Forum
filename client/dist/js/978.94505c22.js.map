{"version":3,"file":"js/978.94505c22.js","mappings":"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","sources":["webpack://client/./src/components/PostSingle.vue","webpack://client/./src/components/CommentSingle.vue","webpack://client/./src/components/CommentSingle.vue?40b8","webpack://client/./src/components/InputComment.vue","webpack://client/./src/components/InputComment.vue?0596","webpack://client/./src/components/showMoreButton.vue","webpack://client/./src/components/showMoreButton.vue?4ead","webpack://client/./src/components/PostSingle.vue?d00b","webpack://client/./src/views/CommunityDetails.vue","webpack://client/./src/views/CommunityDetails.vue?5cad"],"sourcesContent":["<template>\r\n  <div class=\"w-full flex flex-col gap-5\">\r\n    <div\r\n      class=\"w-full mx-auto bg-neutral-50 dark:bg-neutral-600 dark:text-white shadow-md rounded\"\r\n    >\r\n      <div class=\"text-xs font-bold text-gray-500 dark:text-gray-300 pt-2 pl-2\">\r\n        <span>Posted by: {{ post.user.username }}: {{ createdAt }} </span>\r\n      </div>\r\n      <div class=\"flex flex-col px-4\">\r\n        <div class=\"p-2 py-5 border-b\">\r\n          <h3 class=\"font-bold text-xl dark:text-white text-black\">\r\n            {{ post.title }}\r\n          </h3>\r\n        </div>\r\n        <show-more-button>\r\n          <template #section>\r\n            <div class=\"py-4 px-3\">\r\n              {{ post.str }}\r\n            </div>\r\n          </template>\r\n        </show-more-button>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"py-2 w-full bg-neutral-50 dark:bg-neutral-600 dark:text-white drop-shadow-md rounded\"\r\n    >\r\n      <input-comment\r\n        :postComments=\"post.comments\"\r\n        :postId=\"post.id\"\r\n      ></input-comment>\r\n      <div class=\"px-5 py-5\">\r\n        <div v-if=\"showComments\">\r\n          Comments:\r\n          <comment-single\r\n            v-for=\"comment in post.comments\"\r\n            :key=\"comment.id\"\r\n            :comment=\"comment\"\r\n          ></comment-single>\r\n        </div>\r\n        <div v-else-if=\"post.comments.length > 0\">\r\n          <button\r\n            class=\"w-full hover:text-blue-400 p-2 text-md\"\r\n            @click.prevent=\"showComments = !showComments\"\r\n          >\r\n            Show comments\r\n          </button>\r\n        </div>\r\n        <div v-else>No comments</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentSingle from './CommentSingle.vue';\r\nimport InputComment from './InputComment.vue';\r\nimport ShowMoreButton from './showMoreButton.vue';\r\nimport { transformDate } from './utility';\r\nexport default {\r\n  props: {\r\n    post: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      showComments: false,\r\n    };\r\n  },\r\n  computed: {\r\n    createdAt() {\r\n      return transformDate(this.post.createdAt);\r\n    }\r\n  },\r\n  components: { CommentSingle, InputComment, ShowMoreButton },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"p-2\">\r\n    <div class=\"text-xs font-semibold\">\r\n    {{ comment.user.username }}: {{ createdAt }}\r\n    </div>\r\n    <div class=\"pl-2\">\r\n      {{ comment.text }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>import { transformDate } from \"./utility\";\r\n\r\nexport default {\r\n  props: { comment: Object },\r\n  computed: {\r\n    createdAt() {\r\n      return transformDate(this.comment.createdAt);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./CommentSingle.vue?vue&type=template&id=9f3ada60\"\nimport script from \"./CommentSingle.vue?vue&type=script&lang=js\"\nexport * from \"./CommentSingle.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"p-2 flex flex-col justify-center\">\r\n    <form class=\"flex flex-col gap-5\" @submit.prevent=\"comment()\">\r\n      <div class=\"w-100 flex justify-center\">\r\n        <button\r\n          @keyup.enter=\"submit\"\r\n          class=\"\r\n            text-md\r\n            rounded-full\r\n            border\r\n            shadow-md\r\n            border-blue-400\r\n            bg-white\r\n            px-5\r\n            py-1\r\n            transition-all\r\n            hover:bg-blue-400 hover:text-white hover:dark:text-white\r\n            dark:bg-sky-800 dark:border-0\r\n            hover:dark:bg-sky-700\r\n          \"\r\n        >\r\n          Comment\r\n        </button>\r\n      </div>\r\n      <textarea\r\n        v-model=\"commentText\"\r\n        class=\"\r\n          form-textarea\r\n          rounded\r\n          border\r\n          w-full\r\n          h-12\r\n          max-h-24\r\n          mb-0.5\r\n          shadow-lg\r\n          transition-all\r\n          resize-none\r\n          hover:h-24\r\n          focus:h-24\r\n          dark:bg-neutral-700\r\n        \"\r\n        placeholder=\"Insert comment here\"\r\n      ></textarea>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject, toRef } from \"vue\";\r\n\r\nexport default {\r\n  props: {\r\n    postId: String,\r\n    postComments: Array,\r\n  },\r\n  setup(props) {\r\n    const isAuthenticated = inject(\"authenticated\");\r\n    const comments = toRef(props, \"postComments\");\r\n    return {\r\n      comments,\r\n      isAuthenticated,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      commentText: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async comment() {\r\n      if (this.commentText == \"\") {\r\n        return;\r\n      }\r\n      //TODO: Post Comment fetch()\r\n      const comment = await fetch(\"http://localhost:3000/graphql\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          query: `\r\n          mutation CREATE_COMMENT($userId: String!, $postId: String!, $commentInput: CommentInput!) {\r\n            createComment(userId: $userId, postId: $postId, commentInput: $commentInput) {\r\n              id\r\n              text\r\n              user {\r\n                id\r\n                username\r\n              }\r\n              replies {\r\n                id\r\n                text\r\n              }\r\n            }\r\n          }\r\n          `,\r\n          variables: {\r\n            userId: JSON.parse(sessionStorage.getItem(\"user\")).id,\r\n            postId: this.postId,\r\n            commentInput: {\r\n              text: this.commentText,\r\n            },\r\n          },\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => res.data.createComment);\r\n      console.log(this.comments);\r\n      this.comments.push(comment);\r\n      this.commentText = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./InputComment.vue?vue&type=template&id=5b43e03b\"\nimport script from \"./InputComment.vue?vue&type=script&lang=js\"\nexport * from \"./InputComment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    ref=\"mainPost\"\r\n    class=\"p-2 overflow-hidden\"\r\n    :class=\"!showMore ? 'max-h-72' : ''\"\r\n  >\r\n    <slot name=\"section\"></slot>\r\n  </div>\r\n  <button\r\n    :class=\"showMore ? 'hidden' : ''\"\r\n    class=\"w-full absolute bottom-0 h-10 text-center text-white leading-9\"\r\n    @click=\"showMore = !showMore\"\r\n  >\r\n    <div\r\n      class=\"blur group-hover:bg-black/60 w-full h-10 transition-all ease-in-out\"\r\n    ></div>\r\n    <div class=\"group-hover:opacity-100 opacity-0 relative bottom-10\">\r\n      Show more\r\n    </div>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      showMore: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.showMore =\r\n      this.$refs.mainPost.offsetHeight == this.$refs.mainPost.scrollHeight;\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./showMoreButton.vue?vue&type=template&id=4515a4dc\"\nimport script from \"./showMoreButton.vue?vue&type=script&lang=js\"\nexport * from \"./showMoreButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PostSingle.vue?vue&type=template&id=c514a870\"\nimport script from \"./PostSingle.vue?vue&type=script&lang=js\"\nexport * from \"./PostSingle.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"flex flex-row gap-4\">\r\n    <button @click=\"addImage()\">\r\n      <img :src=\"avatarImageSrc\" class=\"w-10\" alt=\"community image\" />\r\n    </button>\r\n    <div>\r\n      <h2 class=\"font-semibold text-2xl\">{{ community.name }}</h2>\r\n      <p class=\"text-sm\">{{ community.description }}</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"flex justify-center\">\r\n    <div class=\"flex flex-col items-center w-1/2 gap-3\">\r\n      <div class=\"flex gap-3 bg-neutral-50 shadow-sm roudned w-full p-3\">\r\n        <router-link class=\"w-full\" :to=\"{ name: 'createPostView', params: {} }\">\r\n          <input class=\"p-1 pl-10 w-full\" placeholder=\"Create Post\" type=\"text\" />\r\n        </router-link>\r\n      </div>\r\n      <post-single\r\n        v-for=\"post in community.posts\"\r\n        :key=\"post.id\"\r\n        :post=\"post\"\r\n      ></post-single>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostSingle from '../components/PostSingle.vue';\r\nimport { communityAvatarImage } from '../components/utility';\r\nexport default {\r\n  name: 'communityDetailsView',\r\n  components: { PostSingle },\r\n  data() {\r\n    return {\r\n      community: Object,\r\n    };\r\n  },\r\n  async created() {\r\n    this.community = await fetch('http://localhost:3000/graphql', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        query: `\r\n            query GET_COMMUNITY($communityId: String!) {\r\n                community(communityId: $communityId) {\r\n                    id\r\n                    name\r\n                    description\r\n                    avatarImage\r\n                    posts {\r\n                        id\r\n                        title\r\n                        str\r\n                        createdAt\r\n                        user {\r\n                            id\r\n                            username\r\n                        }\r\n                        comments {\r\n                            id\r\n                            text\r\n                            createdAt\r\n                            user {\r\n                              id\r\n                              username\r\n                            }\r\n                        }\r\n                    }\r\n                    admin {\r\n                      id\r\n                    }\r\n                }\r\n            }`,\r\n        variables: {\r\n          communityId: this.$route.params.id,\r\n        },\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => res.data.community);\r\n  },\r\n  methods: {\r\n    async addImage() {\r\n      if(this.community.admin.id != JSON.parse(sessionStorage.getItem('user')).id) {\r\n        return;\r\n      }\r\n      const input = document.createElement('input');\r\n      const formData = new FormData();\r\n      input.type = 'file';\r\n      input.click();\r\n      input.addEventListener('change', async () => {\r\n        if (input.files.length == 0) {\r\n          return;\r\n        }\r\n        formData.append(\r\n          'operations',\r\n          JSON.stringify({\r\n            query: `\r\n            mutation UPLOAD_AVATAR_COMMUNITY($communityId: String!, $file: Upload!) {\r\n              changeAvatar(file: $file, communityId: $communityId) {\r\n                id\r\n                avatarImage\r\n              }\r\n            }`,\r\n            variables: {\r\n              communityId: this.$route.params.id,\r\n              file: null,\r\n            },\r\n          })\r\n        );\r\n        formData.append('map', '{ \"0\": [\"variables.file\"] }');\r\n        formData.append('0', input.files[0]);\r\n\r\n        const updatedCommunityAvatar = await fetch(\r\n          'http://localhost:3000/graphql',\r\n          {\r\n            method: 'POST',\r\n            body: formData,\r\n          }\r\n        )\r\n          .then((res) => res.json())\r\n          .then((res) => res.data.changeAvatar);\r\n        this.community.avatarImage = updatedCommunityAvatar.avatarImage;\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    avatarImageSrc() {\r\n      return communityAvatarImage(this.community.avatarImage);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./CommunityDetails.vue?vue&type=template&id=71722dfb\"\nimport script from \"./CommunityDetails.vue?vue&type=script&lang=js\"\nexport * from \"./CommunityDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\trajk\\\\Desktop\\\\Forum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","key","_hoisted_11","_createTextVNode","_hoisted_12","_hoisted_13","render","_ctx","_cache","$props","$setup","$data","$options","_component_show_more_button","_resolveComponent","_component_input_comment","_component_comment_single","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","user","username","title","_createVNode","section","str","_","postComments","comments","postId","id","_Fragment","_renderList","comment","_createBlock","length","onClick","text","props","Object","computed","createdAt","transformDate","this","__exports__","onSubmit","onKeyup","_withDirectives","$event","placeholder","_vModelText","String","Array","setup","isAuthenticated","inject","toRef","data","commentText","methods","async","fetch","method","headers","Accept","body","JSON","stringify","query","variables","userId","parse","sessionStorage","getItem","commentInput","then","res","json","createComment","console","log","push","_hoisted_1","ref","_renderSlot","showMore","mounted","$refs","mainPost","offsetHeight","scrollHeight","post","showComments","components","CommentSingle","InputComment","ShowMoreButton","type","_component_router_link","_component_post_single","src","alt","name","description","to","params","default","posts","PostSingle","community","communityId","$route","admin","input","document","createElement","formData","FormData","click","addEventListener","files","append","file","updatedCommunityAvatar","changeAvatar","avatarImage","avatarImageSrc","communityAvatarImage"],"sourceRoot":""}