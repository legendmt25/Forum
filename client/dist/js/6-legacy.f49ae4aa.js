(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[6],{2052:function(r,t,e){"use strict";e.d(t,{Z:function(){return h}});var n=e(6252),o=e(3577),u=e(9963),i={class:"flex flex-col gap-2"},a={class:"font-bold"},c=["type","name"];function s(r,t,e,s,f,l){return(0,n.wg)(),(0,n.iD)("label",i,[(0,n._)("span",a,(0,o.zw)(l.label),1),(0,n.wy)((0,n._)("input",{type:e.type,class:"shadow-md dark:bg-neutral-600 dark:text-white form-input mt-1 block w-full rounded border",name:s.obj[e.property],"onUpdate:modelValue":t[0]||(t[0]=function(r){return s.obj[e.property]=r})},null,8,c),[[u.YZ,s.obj[e.property]]])])}var f=e(8225),l={props:{which:String,property:String,type:{type:String,default:"text"}},setup:function(r){var t=(0,n.f3)("".concat(r.which,"Data"));return{obj:t}},computed:{label:function(){return(0,f.PS)(this.property)}}},p=e(3744);const d=(0,p.Z)(l,[["render",s]]);var h=d},9006:function(r,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var n=e(6252),o={class:"flex justify-center"},u={class:"w-full md:w-3/4 bg-neutral-50 dark:bg-neutral-700 dark:text-white rounded shadow-md p-10"},i={class:"border border-solid border-gray-300 p-4 shadow-md"},a=(0,n._)("legend",{class:"text-2xl font-extralight"},"Login",-1),c={class:"p-6 flex flex-col gap-5"},s={class:"flex justify-center"};function f(r,t,e,f,l,p){var d=(0,n.up)("input-component"),h=(0,n.up)("login-user-button");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",u,[(0,n._)("form",null,[(0,n._)("fieldset",i,[a,(0,n._)("div",c,[(0,n.Wm)(d,{which:"user",property:"username"}),(0,n.Wm)(d,{which:"user",property:"password",type:"password"}),(0,n._)("div",s,[(0,n.Wm)(h,{class:"border-2 border-slate-400 rounded-full p-2 px-5 hover:text-white hover:bg-blue-400 hover:border-blue-400 shadow:md hover:shadow-xl"})])])])])])])}var l=e(2052),p=e(2262),d=e(9963);function h(r,t,e,o,u,i){return(0,n.wg)(),(0,n.iD)("button",{type:"submit",onClick:t[0]||(t[0]=(0,d.iM)((function(r){return i.login()}),["prevent"]))},"Login")}var v=e(4648),b=e(8534),g=(e(5666),e(1539),e(8862),e(1703),{setup:function(){var r=(0,n.f3)("userData"),t=(0,n.f3)("authenticated");return{obj:r,isAuthenticated:t}},methods:{login:function(){var r=this;return(0,b.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3000/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n          query LOGIN($userCredentials: UserCredentialsInput!) {\n            loginUser(userCredentialsInput: $userCredentials) {\n              id\n              createdAt\n              username\n              firstName\n              lastName\n              email\n              gender\n              options {\n                inboxMessages\n                upvotesOnComments\n                upvotesOnPosts\n                newFollowers\n              }\n            }\n          }",variables:{userCredentials:(0,v.Z)({},r.obj)}})}).then((function(r){return r.json()})).then((function(r){if(null==r.data)throw Error("Authentication failed: "+JSON.stringify(r.errors));return r.data.loginUser})).catch((function(r){throw r}));case 3:e=t.sent,r.isAuthenticated=!0,sessionStorage.setItem("user",JSON.stringify(e)),r.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),alert("Invalid username or password"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}}),y=e(3744);const m=(0,y.Z)(g,[["render",h]]);var w=m,O={name:"loginView",setup:function(){var r=(0,p.iH)({username:"",password:""});return(0,n.JJ)("userData",r),{obj:r}},components:{InputComponent:l.Z,LoginUserButton:w}};const j=(0,y.Z)(O,[["render",f]]);var x=j},8533:function(r,t,e){"use strict";var n=e(2092).forEach,o=e(9341),u=o("forEach");r.exports=u?[].forEach:function(r){return n(this,r,arguments.length>1?arguments[1]:void 0)}},2914:function(r,t,e){var n=e(7293),o=e(9114);r.exports=!n((function(){var r=Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",o(1,7)),7!==r.stack)}))},8340:function(r,t,e){var n=e(111),o=e(8880);r.exports=function(r,t){n(t)&&"cause"in t&&o(r,"cause",t.cause)}},9191:function(r,t,e){"use strict";var n=e(5005),o=e(2597),u=e(8880),i=e(7976),a=e(7674),c=e(9920),s=e(9587),f=e(6277),l=e(8340),p=e(7741),d=e(2914),h=e(1913);r.exports=function(r,t,e,v){var b=v?2:1,g=r.split("."),y=g[g.length-1],m=n.apply(null,g);if(m){var w=m.prototype;if(!h&&o(w,"cause")&&delete w.cause,!e)return m;var O=n("Error"),j=t((function(r,t){var e=f(v?t:r,void 0),n=v?new m(r):new m;return void 0!==e&&u(n,"message",e),d&&u(n,"stack",p(n.stack,2)),this&&i(w,this)&&s(n,this,j),arguments.length>b&&l(n,arguments[b]),n}));if(j.prototype=w,"Error"!==y&&(a?a(j,O):c(j,O,{name:!0})),c(j,m),!h)try{w.name!==y&&u(w,"name",y),w.constructor=j}catch(x){}return j}}},7327:function(r,t,e){"use strict";var n=e(2109),o=e(2092).filter,u=e(1194),i=u("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}})},1703:function(r,t,e){var n=e(2109),o=e(7854),u=e(2104),i=e(9191),a="WebAssembly",c=o[a],s=7!==Error("e",{cause:7}).cause,f=function(r,t){var e={};e[r]=i(r,t,s),n({global:!0,forced:s},e)},l=function(r,t){if(c&&c[r]){var e={};e[r]=i(a+"."+r,t,s),n({target:a,stat:!0,forced:s},e)}};f("Error",(function(r){return function(t){return u(r,this,arguments)}})),f("EvalError",(function(r){return function(t){return u(r,this,arguments)}})),f("RangeError",(function(r){return function(t){return u(r,this,arguments)}})),f("ReferenceError",(function(r){return function(t){return u(r,this,arguments)}})),f("SyntaxError",(function(r){return function(t){return u(r,this,arguments)}})),f("TypeError",(function(r){return function(t){return u(r,this,arguments)}})),f("URIError",(function(r){return function(t){return u(r,this,arguments)}})),l("CompileError",(function(r){return function(t){return u(r,this,arguments)}})),l("LinkError",(function(r){return function(t){return u(r,this,arguments)}})),l("RuntimeError",(function(r){return function(t){return u(r,this,arguments)}}))},5003:function(r,t,e){var n=e(2109),o=e(7293),u=e(5656),i=e(1236).f,a=e(9781),c=o((function(){i(1)})),s=!a||c;n({target:"Object",stat:!0,forced:s,sham:!a},{getOwnPropertyDescriptor:function(r,t){return i(u(r),t)}})},9337:function(r,t,e){var n=e(2109),o=e(9781),u=e(3887),i=e(5656),a=e(1236),c=e(6135);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(r){var t,e,n=i(r),o=a.f,s=u(n),f={},l=0;while(s.length>l)e=o(n,t=s[l++]),void 0!==e&&c(f,t,e);return f}})},7941:function(r,t,e){var n=e(2109),o=e(7908),u=e(1956),i=e(7293),a=i((function(){u(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(r){return u(o(r))}})},4747:function(r,t,e){var n=e(7854),o=e(8324),u=e(8509),i=e(8533),a=e(8880),c=function(r){if(r&&r.forEach!==i)try{a(r,"forEach",i)}catch(t){r.forEach=i}};for(var s in o)o[s]&&c(n[s]&&n[s].prototype);c(u)},4648:function(r,t,e){"use strict";e.d(t,{Z:function(){return u}});e(7941),e(2526),e(7327),e(1539),e(5003),e(4747),e(9337);function n(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function o(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function u(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){n(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}}}]);
//# sourceMappingURL=6-legacy.f49ae4aa.js.map